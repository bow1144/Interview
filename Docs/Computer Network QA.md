### OSI 七层参考模型是什么？

1. **物理层**，传输单位是比特
2. **数据链路层**，传输单位是帧
3. **网络层**，传输单位是数据报，包括IP，ARP等
4. **传输层**，协议是TCP和UDP
5. **会话层**，会话连接
6. **表示层**，格式转换
7. **应用层**，为应用程序提供网络服务，包括HTTP

### TCP/IP四层网络模型是什么？
是互联网最常用的协议栈

1. **应用层**，提供网络与应用程序之间的接口，包含OSI的应用层、表示层、会话层
2. **传输层**，协议是TCP，UDP。TCP提供可靠数据传输保证完整性；UDP是无连接的，适用于不可靠传输
3. **网际层**，协议是IP，负责数据包的路由和转发
4. **网络接口层**，对应数据链路层和物理层，还包含硬件地址（MAC）的管理

<img width="420" alt="{E9FEE103-B64C-44B5-85D4-8B3EFBD54B45}" src="https://github.com/user-attachments/assets/37a638b8-221c-4981-a877-8fbf78d8dd8d">

### 五层网络体系结构是什么？
* 将TCP/IP的网际接口层拆为数据链路、物理层
* 数据链路层传输帧，提供检测纠错能力。用MAC标记网络设备

<img width="577" alt="{5E7899AB-9190-4D3B-B944-675CEB46E7F9}" src="https://github.com/user-attachments/assets/3621a5e0-fdef-4828-9704-91f839b82c64">

### HTTP请求报文由什么组成？
1. **请求行**：包含请求方法（`GET`，`POST`等）和`URL`
2. **请求头**：由`key:value`组成，告知服务器有关请求的详细信息
3. **空行**：请求头部与主体之间的空行
4. **请求体**：实际数据

### HTTP响应报文由什么组成？
服务器向客户端返回的数据格式

1. **状态行**：HTTP协议版本，状态码，状态消息
2. **响应头部**：也是以`key:value`的形式提供额外信息
3. **空行**
4. **响应主体**：返回的实际数据

### HTTP常见字段有哪些？
出现在HTTP报文的响应头和请求头

* 通用头部字段
  * `Cache-Control`：指定缓存策略
  * `Connection`：控制连接行为
  * `Date`：指定时间日期

* 请求头部字段
  * `Accept`：指定客户端能够接收的**响应MIME类型**
  * `Accept-Encoding`：指定客户端支持的**编码类型**
  * `Authorization`：**身份验证凭据**
  * `Host`：指定请求的**目标主机和端口**
  * `User-Agent`：表示客户端的**用户代理**

### 什么是TCP粘包问题？如何解决？
#### 1. 粘包问题
TCP的粘包问题是发送方连续发送多个数据包被‘粘’在一起了，接收方无法区分。可能的形式有：发送方的多个包被粘，接收方将多个接收合并

#### 2. 产生原因
* TCP是**面向流**的，没有消息边界的概念，所有数据按流的形式传输
* TCP的优化机制，TCP根据网络情况合并小包或拆分大包

#### 3. 解决方法
* 固定长度包
* 添加分隔符（常用于HTTP）
* 用消息头+消息体的格式（比较通用）

### UDP会不会产生粘包问题？
* TCP为了减少开销，使用了基于流的传输，无保护消息边界
* UDP**面向消息传输**，有一定传输边界，接收方一次只接收一条消息

### HTTP请求方法有哪些？
<img width="582" alt="{C350AD73-049B-4A9A-A637-D00F5F17842F}" src="https://github.com/user-attachments/assets/16dd3512-2f17-496e-aa9f-3e7f622c0795">

### GET和POST请求的区别
* GET申请获取资源，不会对服务器产生影响；POST向服务器提交数据，服务器可能会创建或更新资源
* GET请求的参数放在URL中，长度较小；POST参数放在请求体中，没有长度限制。
* GET请求是**安全幂等**的（多次执行相同操作，结果相同）；POST不是（会修改服务器资源）
* 缓存方面，GET会主动缓存，POST不会。GET的参数也会留在浏览器历史记录上
* GET发送一个TCP包，POST会**先发送Hearer再发送Data**

### 介绍HTTP状态码XXX？

![HTTP状态码](https://github.com/user-attachments/assets/aae344cd-1307-45c3-92a7-0e75f5d3f6dc)

### HTTP缓存有几种？
缓存是将副本存储在本地或代理服务器上的技术，可以减少网络延时，减轻服务器负担。缓存分为强制缓存和协商缓存

浏览器判断目标是否命中**强缓存**，命中则之间从内存中读取资源，毋须联系服务器；强制缓存没有命中的话进行**协商缓存**。协商缓存依赖客户端与服务器端的通信，判断资源是否改变，是否需要重传资源

### HTTP1.0和HTTP1.1的区别？
1. HTTP1.1支持**长连接**，而HTTP1.0只支持短连接，每次请求都要新建TCP连接
2. HTTP1.0主要用`If-Modified-Since/Expires`判断**缓存**，HTTP1.1引入了更多控制策略
3. 基于长连接，HTTP1.1使得**管道化**成为可能。请求能‘并行传输’
4. HTTP1.1增加**HOST字段**，使得一个服务器能建立多个Web站点
5. HTTP1.1新增了24个**错误码**
6. HTTP1.1引入**带宽优化**
7. HTTP1.1新增了PUT，DELETE等新的方法

### HTTP2.0和HTTP1.1的区别？
1. 相比于HTTP1.1的基于文本解析，HTTP2.0采用**二进制**，实现更快，鲁棒性更强
2. 支持**多路复用**，每个连接可以有多个请求，提高效率
3. **压缩Header**，缓存Header字段表，减少传输大小，避免重复传输
4. 客户端所需资源与`indx.html`一起发送，提升传输速度

### HTTPS与HTTP的区别？
1. 在HTTP与TCP层之间加入`SSL/TLS`安全协议，使报文能加密传输
2. HTTPS在三次握手之后还要`SSL/TLS`握手才能传输
3. HTTP的端口是`80`，HTTPS的端口是`443`
4. HTTPS需要向CA申请数字证书，保证服务器身份可信

### 什么是对称加密与非对称加密？
* 对称加密是用私钥加密，速度较快但密钥的安全性很重要。一旦密钥泄露攻击者就能轻易解密数据。
* 非对称加密中用公钥私钥分别加密解密数据，还用于数字签名

### HTTPS是如何建立连接的？
1. 客户端**发送连接请求**到服务器端的443端口
2. 服务器收到请求后发送一个`CA数字证书`给客户端，包括服务器公钥等信息
3. 客户端**验证证书合法性**
4. 客户端生成会话密钥，再用**公钥加密会话密钥**，发送给服务器
5. 服务器**解密会话密钥**
6. 现在两端都有相同的会话密钥，使用**对称加密算法**通话

### URL和URI是什么？
* URI是统一资源**标识符**，用于标识人格互联网上的资源
* URL是统一资源**定位符**，是一种特殊的URI，提供资源的位置信息。URL有以下部分组成：
  * 协议，例如HTTP
  * 域名，例如`www.baidu.com`
  * 端口号，例如`8080`
  * 路径，类似文件路径
  * 查询参数
  * 片段标识
 
 ### DNS是什么？
 将主机名和域名`www.baidu.com`转化为IP地址`128.13.45.56`的工作

 ### DNS解析过程是什么？
 1. 找浏览器缓存和本地缓存
 2. 问**本地DNS服务器**，找不到的话本地服务器请求**根服务器**
 3. 根服务器指出**顶级域名服务器**，本地服务器找它
 4. 顶级域名服务器指出**权威DNS服务器**，本地服务器找它
 5. 权威服务器返回IP地址给本地DNS服务器，缓存到本地
 6. 浏览器发起连接

### 介绍递归查询和迭代查询？
* **递归查询**适用于客户端，只需要向本地服务器发送一次请求就行，本地服务器会自己解析
* **迭代查询**适用于DNS服务器。一个一个向上访问直到完整解析结果

### TCP和UDP分别在什么场景使用？
* UDP适用于**实时传输**，重视延时的场景，例如游戏，视频
* TCP适用于对**可靠性**要求高的场景，例如文件传输，电子邮件，网页浏览

### TCP如何确保可靠性？
1. **序列号与确认应答**：对每个数据段分配序列号，同时使用ACK跟踪数据传输
2. **超时和重传**：TCP在数据包丢失后用超时机制触发重传，确保数据成功传递
3. **流量控制**：滑动窗口机制防止接收方缓冲区溢出
4. **拥塞控制**：动态调整发送速率应对网络状况，网络拥塞时减缓发送速率

### UDP如何确保可靠性？
* 需要可靠UDP的原因：在弱网中TCP的延时很高
* 由于UDP的特性，可靠性需要在**应用层实现**：提供类似TCP的超时重传和确认序列号
* RUDP，RTP，UDT等协议实现了可靠的UDP

### 介绍三次握手的过程
三次握手是TCP建立网络连接的过程，确认双方都能正确传输数据

1. **第一次握手SYN**：客户端发送一个带有SYN标志的包，表示希望建立连接。同时带有客户端初始序列号
2. **第二次握手SYN+ACK**：服务端收到SYN后返回一个带有SYN和ACK标志位的包，表示接收请求（ACK），希望建立连接（SYN），发送服务端初始序列号和**客户端序列号+1**表示确认
3. **第三次握手ACK**：客户端发送ACK表示确认。服务端序列号+1表示准备好连接

### 标志，序列号的意义是什么？
* SYN表示**请求连接**
* ACK表示**同意连接**
* 初始序列号表示**请求连接**
* 序列号+1表示**同意连接**

### 为什么是三次握手？不是两次，四次？
* 不是两次：阻止历史连接，同步序列号需要一来一回
* 不是四次：防止资源浪费

### 介绍四次挥手的过程
1. 发送FIN，表示服务器不再发送数据
2. 服务器收到后发送ACK
3. 服务器再发送一个FIN，表示服务器也不发送数据了
4. 客户端收到FIN后，发送ACK，关闭连接

### Keep-Alive是什么？
* `Keep-Alive`是HTTP协议的一种机制，被称为**长连接**
* 客户端在完成一个HTTP请求与响应后，不关闭连接而是一直打开，减少开销

### Keep-Alive的优缺点有哪些？
优点：  
1. **减少开销提升性能**
2. 可以在一个连接上发送处理多个请求**提供并发性能**
3. 长连接中多个请求共享头部，减少**头部的重复传递**

缺点：  
1. 长时间持久连接会占用服务器资源，所以两端会设置**Keep-Alive的超时时间**

### TCP的Keep-Alive是什么？
* TCP发送特定的探测数据包**维护连接的活跃性**
* 发送方不时发送一个空包，如果没有收到确认，则认为连接断开，触发连接关闭
* 作用是：检测连接断开；在空闲时释放资源

### TCP和HTTP的Keep-Alive是一个东西吗？有什么区别
不是。  
HTTP的是由应用层实现，被称为HTTP长连接；TCP的是由TCP层实现，被称为TCP保活机制，判断对方是否存活

### CDN是什么？
* 内容分发网络
* 将内容存储在分布式服务器上，使客户从距离较近的服务器获取内容，减少延时提升用户体验

### CDN的工作流程是什么？
1. 域名解析时，DNS返回距离最近的CDN节点的IP地址
2. 用户请求被动态分配到最适合的CDN节点
3. CDN节点检查缓存，如果过期就向源服务器获取资源并缓存

### CDN是如何加速的？
* 就近访问
* 内容缓存
* 前置缓存：将热门内容提前缓存
* 动态负载
* 压缩技术：将内容压缩
* 并行下载：用户可以在一个连接下下载多个资源

### Cookie和Session是什么？
1. Cookie：
   * Cookie是存储在用户浏览器中的小型文本文件，用于在用户和服务器之间传输数据
   * 通常服务器向客户端发送Cookie，浏览器将其存储在本地
   * 服务器通过分析请求头的Cookie得到客户端特有的信息
2. Session：
   * 客户端浏览器访问服务器时，服务器将**客户端信息**记录在服务器上。这些信息是Session
   * Session的主要作用是维护用户登录状态，临时用户信息和上下文
 
### Cookie的工作原理
如果服务器需要`Cookie`，在HTTP响应中设置`Set-Cookie`标头；浏览器将这些`Cookie`存储并在后续的请求中发送给服务器。这样服务器可以通过`Cookie`实现用户状态管理与传递

<img width="516" alt="{6C1875C4-CD1B-48EC-BCE3-229866E6CDCC}" src="https://github.com/user-attachments/assets/15ea4e82-4b87-44b7-8c76-8e808c0c9e44">

### Session的工作原理
