### Linux内存管理

<img width="513" alt="{CB0C5569-DD62-403D-A800-D7EB0CA5513E}" src="https://github.com/user-attachments/assets/df46134b-4fde-4276-bee1-9bb4c232c1ce">

1. **程序文件段**：只读，包含程序的二进制可执行代码
2. **已初始化数据段**：已初始化的全局变量和静态变量
3. **未初始化数据段**：未初始化的全局变量和静态变量
4. **堆段**：包括动态分配的内存，从低地址向上增长
5. **文件映射段**：动态库、共享内存等，从低地址向上
6. **栈段**：函数的参数和局部变量、上下文等，从高向低增长

### Linux虚拟内存
* 32位处理器的虚拟内存大小为4G，每个进程都认为自己有4G空间，但实际上只用到一点点虚拟内存
* 进程认为虚拟内存是连续的，实际上是多个内存碎片，还有一部分在磁盘上
* 应用程序从编写到执行需要**两次内存映射**：一次映射到虚拟内存，一次从虚拟内存映射到物理内存
* 第二次映射由软件和硬件共同完成，硬件是存储管理单元MMU，软件是OS的内存管理模块

